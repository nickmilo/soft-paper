/*
 * Soft Paper — An Obsidian Theme
 * by Nick Milo
 * Based on AnuPpuccin by Anubis, stripped to essentials.
 * Version 1.0.0
 */

/* @settings
name: Soft Paper
id: soft-paper-settings
settings:
  -
    id: sp-hide-scrollbars
    title: Hide scrollbars
    type: class-toggle
    default: true
  -
    id: sp-compact-bases
    title: Make bases compact
    description: Tighter vertical spacing in Bases plugin tables
    type: class-toggle
    default: false
  -
    id: sp-compact-explorer
    title: Make file explorer compact
    description: Tighter vertical spacing in the file explorer
    type: class-toggle
    default: false
  -
    id: sp-hide-add-property
    title: Hide "Add property" button
    description: Remove the "Add property" button below properties
    type: class-toggle
    default: false
  -
    id: sp-status-bar-blue
    title: Make status bar blue
    description: Toggle the lower-right file details bar between blue and beige
    type: class-toggle
    default: false
  -
    id: sp-settings-transparent
    title: Make settings see-through
    description: Settings window at 90% opacity so you can see changes live
    type: class-toggle
    default: false
  -
    id: sp-deprecated
    title: Deprecated
    type: heading
    level: 2
    collapsed: true
  -
    id: sp-fix-base-icons
    title: Fix invisible Bases view icons
    description: Forces clickable icons to be visible (legacy fix, may not be needed)
    type: class-toggle
    default: false
*/

/*-- Fix invisible Bases view icons (deprecated toggle) --*/
.sp-fix-base-icons .clickable-icon {
  -webkit-app-region: no-drag;
  background-color: transparent;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--size-2-2) var(--size-2-3);
  cursor: var(--cursor);
  border-radius: var(--clickable-icon-radius);
  color: #494949;
  opacity: var(--icon-opacity);
  transition: opacity 0.15s ease-in-out;
  height: auto;
}
.sp-fix-base-icons .clickable-icon:hover {
  box-shadow: none;
  opacity: 75%;
  color: #494949;
  background-color: var(--background-modifier-hover);
}

/*-- Inline title color --*/
.inline-title {
  color: #575279 !important;
}

/*-- Properties bottom divider --*/
.metadata-container {
  border-bottom: 1px solid var(--background-modifier-border) !important;
  padding-bottom: 16px !important;
  margin-bottom: 20px !important;
}

/*-- Callout title alignment --*/
.callout .callout-title {
  align-items: center;
}

/*-- Hide "Add property" button (Style Settings toggle) --*/
.sp-hide-add-property .metadata-add-button {
  display: none !important;
}

/*-- Hide Scrollbars (Style Settings toggle) --*/
/*-- Default scrollbar: thin and transparent --*/
*::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
*::-webkit-scrollbar-track {
  background: transparent;
}
*::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.15);
  border-radius: 4px;
}
*::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 0, 0, 0.25);
}

/*-- Hide scrollbars (Style Settings toggle) --*/
.sp-hide-scrollbars *::-webkit-scrollbar {
  display: none;
}

/*===============================================================
 * PHASE 1: COLOR VARIABLES
 * Light: Rosé Pine Light with custom overrides
 * Dark: Frappé with custom overrides
 *===============================================================*/

/* Light mode — Rosé Pine Light base + Nick's overrides */
.theme-light {
  --ctp-rosewater: 188, 112, 141;
  --ctp-flamingo: 214, 129, 125;
  --ctp-pink: 210, 112, 162;
  --ctp-mauve: 141, 141, 141;
  --ctp-red: 186, 113, 132;
  --ctp-maroon: 180, 99, 122;
  --ctp-peach: 221, 127, 103;
  --ctp-yellow: 209, 149, 72;
  --ctp-green: 91, 165, 123;
  --ctp-teal: 102, 158, 166;
  --ctp-sky: 40, 105, 131;
  --ctp-sapphire: 26, 125, 164;
  --ctp-blue: 40, 105, 131;
  --ctp-lavender: 154, 133, 174;
  --ctp-text: 87, 82, 121;
  --ctp-subtext1: 238, 101, 58;
  --ctp-subtext0: 12, 159, 206;
  --ctp-overlay2: 82, 82, 82;
  --ctp-overlay1: 204, 204, 204;
  --ctp-overlay0: 12, 159, 206;
  --ctp-surface2: 202, 193, 185;
  --ctp-surface1: 209, 201, 194;
  --ctp-surface0: 220, 211, 203;
  --ctp-base: 238, 230, 221;
  --ctp-mantle: 230, 219, 209;
  --ctp-crust: 221, 208, 198;
}

/* Dark mode — Frappé base + Nick's overrides */
.theme-dark {
  --ctp-rosewater: 188, 112, 141;
  --ctp-flamingo: 238, 190, 190;
  --ctp-pink: 229, 139, 185;
  --ctp-mauve: 141, 141, 141;
  --ctp-red: 231, 130, 132;
  --ctp-maroon: 234, 153, 156;
  --ctp-peach: 239, 159, 118;
  --ctp-yellow: 201, 190, 62;
  --ctp-green: 103, 196, 143;
  --ctp-teal: 17, 183, 197;
  --ctp-sky: 153, 209, 219;
  --ctp-sapphire: 17, 183, 197;
  --ctp-blue: 140, 170, 238;
  --ctp-lavender: 187, 147, 214;
  --ctp-text: 198, 206, 239;
  --ctp-subtext1: 181, 189, 220;
  --ctp-subtext0: 251, 53, 216;
  --ctp-overlay2: 10, 209, 208;
  --ctp-overlay1: 255, 166, 0;
  --ctp-overlay0: 76, 255, 210;
  --ctp-surface2: 98, 103, 126;
  --ctp-surface1: 81, 86, 108;
  --ctp-surface0: 65, 69, 89;
  --ctp-base: 48, 52, 70;
  --ctp-mantle: 41, 44, 60;
  --ctp-crust: 35, 38, 52;
}

/*-- Accent: Sapphire --*/
body {
  --ctp-accent: var(--ctp-sapphire);
  --color-accent: rgb(var(--ctp-accent));
  --color-accent-1: rgb(var(--ctp-accent));
  --color-accent-2: rgba(var(--ctp-accent), 0.9);
  --text-selection: rgba(var(--ctp-accent), 0.25);
  --interactive-accent: rgb(var(--ctp-accent));
  --interactive-accent-hover: rgba(var(--ctp-accent), 0.9);
  --text-accent: rgb(var(--ctp-accent));
  --text-accent-hover: rgb(var(--ctp-accent));
  --interactive-accent-rgb: var(--ctp-accent);
  --blockquote-border-color: rgb(var(--ctp-accent));
  --background-modifier-active-hover: rgba(var(--ctp-accent), 0.15);
  --link-unresolved-decoration-color: rgba(var(--ctp-accent), 0.3);
  --tag-background: rgba(var(--ctp-accent), 0.1);
  --tag-background-hover: rgba(var(--ctp-accent), 0.2);
  --tag-border-color: rgba(var(--ctp-accent), 0.15);
  --tag-border-color-hover: rgba(var(--ctp-accent), 0.15);
  --nav-item-background-selected: rgba(var(--ctp-accent), 0.2);
  --heading-formatting: rgb(var(--ctp-accent));
  --icon-color-focused: #DDD0C6;
}

/*-- Color Mapping --*/
.theme-dark, .theme-light {
  --mono-rgb-0: var(--ctp-crust);
  --mono-rgb-100: var(--ctp-text);
  --color-red-rgb: var(--ctp-red);
  --color-red: rgb(var(--ctp-red));
  --color-green-rgb: var(--ctp-green);
  --color-green: rgb(var(--ctp-green));
  --color-orange-rgb: var(--ctp-peach);
  --color-orange: rgb(var(--ctp-peach));
  --color-yellow-rgb: var(--ctp-yellow);
  --color-yellow: rgb(var(--ctp-yellow));
  --color-cyan-rgb: var(--ctp-sky);
  --color-cyan: rgb(var(--ctp-sky));
  --color-blue-rgb: var(--ctp-blue);
  --color-blue: rgb(var(--ctp-blue));
  --color-purple-rgb: var(--ctp-lavender);
  --color-purple: rgb(var(--ctp-lavender));
  --color-pink-rgb: var(--ctp-pink);
  --color-pink: rgb(var(--ctp-pink));
  --color-base-00: rgb(var(--ctp-crust));
  --color-base-10: rgb(var(--ctp-mantle));
  --color-base-20: rgb(var(--ctp-base));
  --color-base-25: rgb(var(--ctp-surface0));
  --color-base-30: rgb(var(--ctp-surface1));
  --color-base-35: rgb(var(--ctp-surface2));
  --color-base-40: rgb(var(--ctp-overlay0));
  --color-base-50: rgb(var(--ctp-overlay1));
  --color-base-60: rgb(var(--ctp-overlay2));
  --color-base-70: rgb(var(--ctp-subtext0));
  --color-base-100: rgb(var(--ctp-text));
  --text-highlight-bg: rgba(var(--ctp-yellow), 0.2);
  --text-highlight-bg-active: rgba(var(--ctp-yellow), 0.4);
  --input-shadow: inset 0 0.5px 0.5px 0.5px rgba(255, 255, 255, 0.09),
    0 2px 4px 0 rgba(var(--ctp-crust), 0.15),
    0 1px 1.5px 0 rgba(var(--ctp-crust), 0.1),
    0 1px 2px 0 rgba(var(--ctp-crust), 0.2),
    0 0 0 0 transparent;
  --input-shadow-hover: inset 0 0.5px 1px 0.5px rgba(255, 255, 255, 0.16),
    0 2px 3px 0 rgba(var(--ctp-crust), 0.3),
    0 1px 1.5px 0 rgba(var(--ctp-crust), 0.2),
    0 1px 2px 0 rgba(var(--ctp-crust), 0.4),
    0 0 0 0 transparent;
  --shadow-s: 0px 1px 2px rgba(var(--ctp-crust), 0.121),
    0px 3.4px 6.7px rgba(var(--ctp-crust), 0.179),
    0px 15px 30px rgba(var(--ctp-crust), 0.3);
  --shadow-l: 0px 1.8px 7.3px rgba(var(--ctp-crust), 0.071),
    0px 6.3px 24.7px rgba(var(--ctp-crust), 0.112),
    0px 30px 90px rgba(var(--ctp-crust), 0.2);
  --background-primary: rgb(var(--ctp-base));
  --background-primary-alt: rgb(var(--ctp-mantle));
  --background-secondary: rgb(var(--ctp-mantle));
  --background-secondary-alt: rgb(var(--ctp-crust));
  --background-modifier-hover: rgba(var(--ctp-text), 0.075);
  --background-modifier-form-field: rgba(var(--ctp-crust), 0.3);
  --background-modifier-success: rgba(var(--ctp-green), 1);
  --background-modifier-success-hover: rgba(var(--ctp-green), 0.9);
  --background-modifier-success-rgb: var(--ctp-green);
  --background-modifier-error: rgba(var(--ctp-red), 1);
  --background-modifier-error-rgb: var(--ctp-red);
  --background-modifier-error-hover: rgba(var(--ctp-red), 0.9);
  --background-modifier-message: rgba(var(--ctp-crust), 0.9);
  --modal-border-color: rgb(var(--ctp-surface0));
  --text-normal: rgb(var(--ctp-text));
  --text-muted: rgb(var(--ctp-overlay2));
  --text-muted-rgb: var(--ctp-overlay2);
  --text-faint: rgb(var(--ctp-subtext0));
  --text-error: rgb(var(--ctp-red));
  --text-error-hover: rgba(var(--ctp-red), 0.8);
  --text-success: rgb(var(--ctp-green));
  --text-on-accent: rgb(var(--ctp-base));
  --interactive-normal: rgb(var(--ctp-surface0));
  --interactive-hover: rgb(var(--ctp-surface1));
  --interactive-success: rgb(var(--ctp-green));
  --workspace-background-translucent: rgba(var(--ctp-crust), 0.6);
  --blockquote-background-color: rgba(var(--ctp-crust), 0.5);
  --drag-ghost-background: rgb(var(--ctp-text));
  --drag-ghost-text-color: rgb(var(--ctp-crust));
  --nav-indentation-guide-color: rgba(var(--ctp-crust), 0.4);
  --titlebar-text-color-focused: var(--color-accent);
  --callout-title-padding: var(--size-4-2);
  --embed-block-shadow-hover: none;
  --tag-radius: 2px;
  --tag-border-width: 4px;
}

.theme-dark {
  color-scheme: dark;
  --highlight-mix-blend-mode: none;
  --background-modifier-border: rgb(var(--ctp-surface0));
  --background-modifier-border-hover: rgb(var(--ctp-surface1));
  --background-modifier-border-focus: rgb(var(--ctp-surface2));
  --anp-speech-bubble-opacity: 0.9;
  --background-modifier-cover: rgba(var(--ctp-mantle), 0.4);
}
.theme-dark.theme-dark {
  --canvas-color: var(--ctp-overlay0);
}

.theme-light {
  color-scheme: light;
  --highlight-mix-blend-mode: none;
  --background-modifier-border: rgb(var(--ctp-surface1));
  --background-modifier-border-hover: rgb(var(--ctp-surface2));
  --background-modifier-border-focus: rgb(var(--ctp-overlay0));
  --anp-speech-bubble-opacity: 0.5;
  --background-modifier-cover: #00000022;
}
.theme-light.theme-light {
  --canvas-color: var(--ctp-overlay0);
}

/*===============================================================
 * PHASE 2: HEADINGS
 *===============================================================*/
body {
  --h1-font: "Source Serif Pro", serif;
  --h2-font: "Source Serif Pro", serif;
  --h3-font: "Source Serif Pro", serif;
  --h4-font: "Source Serif Pro", serif;
  --h5-font: "Source Serif Pro", serif;
  --h6-font: "Source Serif Pro", serif;
  --h1-size: 2.1em;
  --h1-weight: 900;
  --h1-line-height: 1.2;
  --h1-color: #BA7184;
  --h2-size: 1.9em;
  --h2-weight: 800;
  --h2-color: #DD7F67;
  --h3-size: 1.6em;
  --h3-weight: 700;
  --h3-color: rgb(var(--ctp-teal));
  --h4-size: 1.35em;
  --h4-weight: 700;
  --h4-color: rgb(var(--ctp-green));
  --h5-size: 1.25em;
  --h5-weight: 700;
  --h5-color: #9A85AE;
  --h6-size: 1.1em;
  --h6-weight: 700;
  --h6-color: #8D8D8D;
  --anp-header-font: "Source Serif Pro", serif;
  --anp-rainbow-folder-bg-opacity: 0.9;
  --anp-rainbow-folder-border-opacity: 1;
  --anp-rainbow-folder-collapse-border-custom: #00000044;
  --anp-preview-width-pct: 95%;
  --anp-preview-width-max: 800px;
  --anp-header-margin-value: 15px;
  --tab-stacked-pane-width: var(--file-line-width);
  --anp-table-width-pct: 100%;
  --code-background: var(--background-secondary-alt);
  --card-background-color: rgba(var(--ctp-accent), 1);
  --tab-inactive-color: rgb(var(--ctp-mantle));
  --code-normal: var(--text-normal);
  --callout-padding: 0;
  --callout-content-padding: var(--size-4-2);
  --background-modifier-active: hsla(var(--color-accent-hsl), 0.1);
  --pdf-background: var(--background-primary);
  --pdf-shadow: 0 0 0 1px rgba(0, 0, 0, 0.15), 0 2px 8px transparent;
  --pdf-sidebar-background: var(--background-primary);
  --pdf-thumbnail-shadow: 0 0 0 1px rgba(0, 0, 0, 0.15), 0 2px 8px transparent;
  --bold-weight: 700;
}

/* H1 bottom divider (color follows heading) */
.markdown-rendered h1,
.HyperMD-header-1 {
  border-bottom: var(--hr-thickness) solid currentColor;
  padding-bottom: 2px;
}

.cm-formatting-header-1 { color: var(--h1-color); }
.cm-formatting-header-2 { color: var(--h2-color); }
.cm-formatting-header-3 { color: var(--h3-color); }
.cm-formatting-header-4 { color: var(--h4-color); }
.cm-formatting-header-5 { color: var(--h5-color); }
.cm-formatting-header-6 { color: var(--h6-color); }

/*===============================================================
 * PHASE 3: LAYOUT — Card Layout + Safari Tabs
 *===============================================================*/

/*-- Card Layout (always on) --*/
body {
  --card-foreground-color: var(--background-primary);
  --divider-color: transparent;
  --tab-outline-color: var(--background-modifier-border);
  --divider-color-hover: var(--background-modifier-border);
  --divider-width: 4px;
  --divider-width-hover: 4px;
  --tab-container-background: var(--card-background-color);
  --file-header-border: var(--border-width) dashed var(--background-modifier-border);
  --ribbon-padding: 0;
  --anp-card-layout-padding: 1px;
  --anp-card-radius: 8px;
  --anp-card-header-left-padding: 10px;
  --header-height: 40px;
  --tab-stacked-header-width: 40px;
  --anp-border-radius: 16px;
  --anp-border-padding: 20px;
}

.sidebar-toggle-button,
.workspace-tabs.mod-top {
  --tab-container-background: var(--card-background-color);
}
.workspace-tabs.mod-top:has(.obsidian-banner-wrapper) {
  --file-header-border: none;
}

.mod-left-split .workspace-tabs .workspace-leaf,
.mod-right-split .workspace-tabs .workspace-leaf,
.mod-left-split,
.mod-vertical .workspace-tab-container,
.mod-vertical,
.workspace-split.mod-vertical,
.workspace-fake-target-overlay:not(.is-in-sidebar) .workspace-tabs .workspace-leaf,
.mod-root .workspace-tabs .workspace-leaf,
.workspace-ribbon.mod-left,
.workspace-ribbon.mod-left:before {
  background-color: var(--tab-container-background);
}

.workspace-ribbon.mod-left {
  margin-right: var(--anp-card-layout-padding, 10px);
}
.side-dock-actions {
  border-radius: 0px var(--anp-card-radius, var(--radius-xl)) var(--anp-card-radius, var(--radius-xl)) 0px;
  margin-top: 2px;
  border-width: 1px 1px 0px 1px;
  border-style: solid;
  border-color: var(--tab-outline-color);
  background-color: var(--card-foreground-color);
  padding: var(--size-4-2) var(--size-4-1) var(--size-4-3);
}
.workspace-split.mod-left-split .workspace-sidedock-vault-profile {
  border: none;
  margin: var(--anp-card-layout-padding, 10px);
  margin-bottom: 0;
  background-color: transparent;
}
.workspace-ribbon.mod-left {
  margin-top: calc(var(--header-height) - 1px);
}
.workspace-tab-header-container,
.workspace-ribbon.mod-left:before {
  border-bottom: none;
}
.mod-vertical .workspace-tabs {
  padding-left: var(--anp-card-layout-padding, 10px);
  padding-right: var(--anp-card-layout-padding, 10px);
}
.mod-vertical .workspace-tabs .workspace-tab-header-container {
  padding-left: var(--anp-card-header-left-padding, 20px);
}
.mod-vertical .workspace-tabs .workspace-tab-header-container .workspace-tab-header-container-inner {
  margin: 6px -5px calc(var(--tab-outline-width) * -1);
  z-index: 1;
}
.mod-left-split .workspace-tab-container,
.mod-right-split .workspace-tab-container {
  padding-left: var(--anp-card-layout-padding, 10px);
  padding-right: var(--anp-card-layout-padding, 10px);
  background-color: var(--tab-container-background);
}

.workspace-split .workspace-leaf-content:not([data-type=file-explorer]),
.workspace-leaf-content[data-type=file-explorer] {
  border-radius: var(--anp-card-radius, var(--radius-xl));
  background-color: var(--card-foreground-color);
  border: 1px solid var(--tab-outline-color);
  margin-bottom: var(--anp-card-layout-padding, 10px);
}

/* Card shadows */
.workspace-split .workspace-leaf-content,
.side-dock-actions,
.workspace-split .workspace-leaf-content[data-type=file-explorer] {
  box-shadow: 0 3px 4px 0px rgba(0, 0, 0, 0.05);
}

.workspace-split .mod-stacked .workspace-leaf-content {
  border-radius: 0;
  border: none;
  margin-bottom: 0px;
}
.workspace-split.mod-horizontal > * {
  width: unset;
}
.workspace .workspace-tabs.mod-stacked .workspace-tab-container .workspace-tab-header {
  border-style: solid;
  border-radius: var(--anp-card-radius, var(--radius-xl)) 0px 0px var(--anp-card-radius, var(--radius-xl));
  border-width: var(--tab-outline-width);
  border-color: var(--tab-outline-color);
  border-right: var(--tab-outline-width) dashed var(--tab-outline-color);
}
.workspace .workspace-tabs.mod-stacked .workspace-leaf {
  border-left-width: 0px;
  border-top-width: var(--tab-outline-width);
  border-bottom-width: var(--tab-outline-width);
  border-style: solid;
  border-color: var(--tab-outline-color);
  border-radius: 0 var(--anp-card-radius, var(--radius-xl)) var(--anp-card-radius, var(--radius-xl)) 0;
}
.workspace .workspace-tabs.mod-stacked .workspace-tab-container {
  padding-bottom: var(--anp-card-layout-padding, 10px);
}

.workspace .mod-root .workspace-tabs.mod-stacked .workspace-tab-container .workspace-leaf {
  background-color: var(--background-primary);
}

.workspace, .horizontal-main-container,
.mod-vertical .workspace-tabs {
  background-color: var(--tab-container-background);
}

/*-- Safari Tabs (always on, animated) --*/
.workspace-split.mod-vertical.mod-root {
  --tab-background-inactive: var(--background-secondary-alt);
  --tab-background-active: var(--background-primary);
  --tab-text-color: var(--text-faint);
  --tab-text-color-active: var(--text-muted);
  --tab-text-color-focused: var(--text-muted);
  --tab-text-color-focused-active: #1A7DA4;
  --tab-text-color-focused-highlighted: var(--text-normal);
  --tab-text-color-focused-active-current: #1A7DA4;
  --tab-divider-color: var(--background-modifier-border-hover);
  --tab-width: 200px;
  --tab-max-width: 320px;
}
.workspace-split.mod-vertical.mod-root .workspace-tabs .workspace-tab-header-container .workspace-tab-header-container-inner {
  margin: 5px 0 !important;
  gap: 3px;
}
.workspace-split.mod-vertical.mod-root .workspace-tabs .workspace-tab-header-container .workspace-tab-header-container-inner .workspace-tab-header {
  border-radius: 5px;
  border: 1px solid var(--tab-outline-color);
  background-color: var(--tab-background-inactive);
  color: var(--text-muted);
  max-width: var(--tab-max-width);
}
.workspace-split.mod-vertical.mod-root .workspace-tabs .workspace-tab-header-container .workspace-tab-header-container-inner .workspace-tab-header:not(.is-active) {
  --icon-color: var(--text-muted);
  --icon-color-hover: var(--text-muted);
}
.workspace-split.mod-vertical.mod-root .workspace-tabs .workspace-tab-header-container .workspace-tab-header-container-inner .workspace-tab-header .workspace-tab-header-inner .workspace-tab-header-inner-title {
  margin-top: 3px;
}
.workspace-split.mod-vertical.mod-root .workspace-tabs .workspace-tab-header-container .workspace-tab-header-container-inner .workspace-tab-header::before,
.workspace-split.mod-vertical.mod-root .workspace-tabs .workspace-tab-header-container .workspace-tab-header-container-inner .workspace-tab-header::after {
  display: none;
}
.workspace-split.mod-vertical.mod-root .workspace-tabs .workspace-tab-header-container .workspace-tab-header-container-inner .workspace-tab-header.is-active {
  background-color: var(--tab-background-active);
  max-width: var(--tab-max-width);
  box-shadow: none;
}
.workspace-split.mod-vertical.mod-root .workspace-tabs .workspace-tab-header-container .workspace-tab-header-container-inner .workspace-tab-header:not(.is-active):hover .workspace-tab-header-inner {
  background-color: transparent;
}
.workspace-tab-header-container-inner {
  width: 100%;
}

/* Safari tabs — animations removed for performance */
.workspace-split.mod-vertical.mod-root .workspace-tabs .workspace-tab-header-container .workspace-tab-header-container-inner .workspace-tab-header {
  transition: none;
}
.workspace-split.mod-vertical.mod-root .workspace-tabs .workspace-tab-header-container .workspace-tab-header-container-inner .workspace-tab-header.is-active {
  flex-grow: 1.67;
  max-width: 300px;
}

body,
.workspace-tabs:not(.mod-stacked) {
  --tab-background: var(--background-secondary);
  --tab-background-active: var(--background-primary);
  --tab-font-size: 12px;
  --tab-height: calc(var(--header-height) * 0.7);
  --tab-max-width: 200px;
  --tab-max-width-active: 300px;
}

.workspace-split.mod-vertical .workspace-tab-header-spacer {
  display: none;
}
.workspace-split.mod-vertical .workspace-tab-header-new-tab {
  margin-left: auto;
}

.is-focused .mod-active .workspace-tab-header.is-active .workspace-tab-header-inner-icon,
.is-focused .mod-active .workspace-tab-header.is-active .workspace-tab-header-inner-title {
  color: #1A7DA4;
}

/* Tab hover tooltip: dark text */
.tooltip,
.workspace-tab-header:hover .workspace-tab-header-inner-title {
  color: var(--text-normal) !important;
}

/*===============================================================
 * PHASE 4: FEATURES
 *===============================================================*/

/*-- Pointer Cursor --*/
.workspace-tab-header,
.clickable-icon,
.dropdown,
.checkbox-container,
input.slider,
.task-list-item-checkbox,
.vertical-tab-nav-item,
.nav-folder-title,
.nav-file-title,
.tree-item,
.tree-item-self.is-clickable,
.workspace-tab-header-status-icon,
.workspace-tab-header-inner-close-button,
.markdown-source-view.mod-cm6 .edit-block-button,
.empty-state-action,
.setting-hotkey-icon,
.setting-add-hotkey-button,
.setting-restore-hotkey-button,
.community-item,
.status-bar-item.mod-clickable,
.titlebar-button,
.button,
.frontmatter-container .frontmatter-container-header,
.card.u-clickable,
.list-item-part.clickable-icon,
.u-clickable,
.document-search-close-button,
.markdown-preview-view .collapse-indicator,
.markdown-source-view.mod-cm6 .cm-fold-indicator .collapse-indicator,
.menu-item,
.modal-checkbox-label,
.view-header-breadcrumb,
.nav-action-button,
.tree-item-inner,
.callout.is-collapsible .callout-title,
.modal-close-button {
  cursor: pointer;
}

/*-- No Active Line Highlight --*/
/* (intentionally empty — no highlight styles applied) */

/*-- Decoration Toggle (bold/italic colors) --*/
body {
  --italic-color: rgb(var(--ctp-green));
  --bold-color: rgb(var(--ctp-red));
}

.cm-s-obsidian span.cm-formatting-strong, .cm-s-obsidian span.cm-strong {
  color: var(--bold-color);
}
.cm-s-obsidian span.cm-formatting-em, .cm-s-obsidian span.cm-em {
  color: var(--italic-color);
}

/*-- Editor LP Font: Space Grotesk --*/
.markdown-source-view.is-live-preview {
  --font-text: "Space Grotesk", var(--font-text-override), var(--font-text-theme), var(--font-interface);
  font-weight: 400;
}

/*-- Bold weight --*/
strong, .cm-strong {
  font-weight: 700;
}

/*-- Colorful Frame (opacity 1) --*/
body {
  --titlebar-background: rgb(var(--ctp-accent));
  --titlebar-background-focused: rgb(var(--ctp-accent));
  --titlebar-text-color: var(--background-primary);
  --titlebar-text-color-focused: var(--background-secondary-alt);
  --colorful-frame-color: rgb(var(--ctp-accent));
  --anp-colorful-frame-opacity: 1;
  background-color: rgba(var(--ctp-accent), 1) !important;
}

/*-- Sidebar tab header containers: blue background --*/
.mod-left-split .workspace-tab-header-container,
.mod-right-split .workspace-tab-header-container {
  background-color: rgba(var(--ctp-accent), 1) !important;
}

/*-- Cream icons on blue: sidebar headers, titlebar, vault bar --*/
.mod-left-split .workspace-tab-header-container .clickable-icon,
.mod-right-split .workspace-tab-header-container .clickable-icon,
.mod-left-split .workspace-tab-header .workspace-tab-header-inner-icon,
.mod-right-split .workspace-tab-header .workspace-tab-header-inner-icon,
.is-focused .mod-left-split .mod-active .workspace-tab-header.is-active .workspace-tab-header-inner-icon,
.is-focused .mod-left-split .mod-active .workspace-tab-header.is-active .workspace-tab-header-inner-title,
.is-focused .mod-right-split .mod-active .workspace-tab-header.is-active .workspace-tab-header-inner-icon,
.is-focused .mod-right-split .mod-active .workspace-tab-header.is-active .workspace-tab-header-inner-title,
.titlebar-button-container .titlebar-button,
.titlebar-button-container .clickable-icon,
.mod-top-right-space .clickable-icon,
.workspace-sidedock-vault-profile .clickable-icon,
.mod-root .workspace-tab-header-tab-list .clickable-icon,
.mod-root .workspace-tab-header-new-tab .clickable-icon {
  --icon-color: #DDD0C6 !important;
  --icon-color-hover: #DDD0C6 !important;
  --icon-color-focused: #DDD0C6 !important;
  color: #DDD0C6 !important;
}

/*-- Active sidebar tab highlight --*/
.mod-left-split .workspace-tab-header.is-active,
.mod-right-split .workspace-tab-header.is-active,
.mod-left-split .workspace-tab-header-status-icon.is-active,
.mod-right-split .workspace-tab-header-status-icon.is-active {
  background-color: #4B8FAB !important;
}
.mod-left-split .workspace-tab-header-status-icon.is-active .clickable-icon,
.mod-right-split .workspace-tab-header-status-icon.is-active .clickable-icon,
.mod-left-split .workspace-tab-header-status-icon.is-active,
.mod-right-split .workspace-tab-header-status-icon.is-active {
  --icon-color: #DDD0C6 !important;
  color: #DDD0C6 !important;
}

/*-- Nav action buttons (bottom pane toggles): match sidebar active style --*/
.nav-buttons-container .nav-action-button.is-active {
  color: #4B8FAB !important;
  background-color: transparent !important;
  --icon-color: #4B8FAB !important;
}

/*-- Vault name bar --*/
.workspace-drawer-vault,
.workspace-sidedock-vault-profile {
  background-color: rgba(var(--ctp-accent), 1) !important;
  color: #DDD0C6;
}
body:not(.is-mobile) .workspace-split.mod-left-split .workspace-sidedock-vault-profile .workspace-drawer-vault-switcher {
  color: #C4C5C1;
}
body:not(.is-mobile) .workspace-split.mod-left-split .workspace-sidedock-vault-profile .workspace-drawer-vault-switcher:hover {
  color: #EEE6DD;
}

/*-- File items: gray background only at root level --*/
.nav-files-container > div > .nav-file > .nav-file-title {
  background-color: #D0CFCE;
  border-radius: var(--radius-s);
}

/*-- Rainbow folder color sequence fix --*/
.nav-folder-children > .nav-folder:nth-child(11n + 2),
.nav-files-container > div > .nav-folder:nth-child(11n + 2),
[data-type="bookmarks"] .tree-item:nth-child(11n + 2) { --rainbow-folder-color: var(--ctp-red); }

.nav-folder-children > .nav-folder:nth-child(11n + 3),
.nav-files-container > div > .nav-folder:nth-child(11n + 3),
[data-type="bookmarks"] .tree-item:nth-child(11n + 3) { --rainbow-folder-color: var(--ctp-lavender); }

.nav-folder-children > .nav-folder:nth-child(11n + 4),
.nav-files-container > div > .nav-folder:nth-child(11n + 4),
[data-type="bookmarks"] .tree-item:nth-child(11n + 4) { --rainbow-folder-color: var(--ctp-yellow); }

.nav-folder-children > .nav-folder:nth-child(11n + 5),
.nav-files-container > div > .nav-folder:nth-child(11n + 5),
[data-type="bookmarks"] .tree-item:nth-child(11n + 5) { --rainbow-folder-color: var(--ctp-teal); }

.nav-folder-children > .nav-folder:nth-child(11n + 6),
.nav-files-container > div > .nav-folder:nth-child(11n + 6),
[data-type="bookmarks"] .tree-item:nth-child(11n + 6) { --rainbow-folder-color: var(--ctp-mauve); }

.nav-folder-children > .nav-folder:nth-child(11n + 7),
.nav-files-container > div > .nav-folder:nth-child(11n + 7),
[data-type="bookmarks"] .tree-item:nth-child(11n + 7) { --rainbow-folder-color: var(--ctp-mauve); }

.nav-folder-children > .nav-folder:nth-child(11n + 8),
.nav-files-container > div > .nav-folder:nth-child(11n + 8),
[data-type="bookmarks"] .tree-item:nth-child(11n + 8) { --rainbow-folder-color: var(--ctp-mauve); }

.nav-folder-children > .nav-folder:nth-child(11n + 9),
.nav-files-container > div > .nav-folder:nth-child(11n + 9),
[data-type="bookmarks"] .tree-item:nth-child(11n + 9) { --rainbow-folder-color: var(--ctp-mauve); }

.nav-folder-children > .nav-folder:nth-child(11n + 10),
.nav-files-container > div > .nav-folder:nth-child(11n + 10),
[data-type="bookmarks"] .tree-item:nth-child(11n + 10) { --rainbow-folder-color: var(--ctp-mauve); }

.nav-folder-children > .nav-folder:nth-child(11n + 11),
.nav-files-container > div > .nav-folder:nth-child(11n + 11),
[data-type="bookmarks"] .tree-item:nth-child(11n + 11) { --rainbow-folder-color: var(--ctp-mauve); }

/* Status bar: beige by default, blue when toggled */
.status-bar {
  background-color: #E6DBD1 !important;
  color: rgb(var(--ctp-text));
}
.sp-status-bar-blue .status-bar {
  background-color: rgba(var(--ctp-accent), 1) !important;
  color: #DDD0C6;
}

.sidebar-toggle-button {
  padding: var(--size-4-1);
  background-color: var(--background-primary) !important;
  height: calc(var(--header-height) - 5px);
  margin-right: 0;
  border-radius: 0 0 var(--radius-m) var(--radius-m);
  border-width: 0 1px 1px 1px;
  border-style: solid;
  border-color: var(--tab-outline-color);
  --icon-color: var(--text-muted);
  --icon-color-hover: var(--text-muted);
}
/* Sidebar toggle icons: always dark on beige */
.mod-left-split .sidebar-toggle-button,
.mod-left-split .sidebar-toggle-button .clickable-icon,
.mod-right-split .sidebar-toggle-button,
.mod-right-split .sidebar-toggle-button .clickable-icon,
.sidebar-toggle-button,
.sidebar-toggle-button .clickable-icon {
  --icon-color: var(--text-muted) !important;
  --icon-color-hover: var(--text-muted) !important;
  --icon-color-active: var(--text-accent) !important;
  --icon-color-focused: var(--text-normal) !important;
  color: var(--text-muted) !important;
  background-color: var(--background-primary) !important;
}

/*-- Sleek Callouts with color toggle --*/
.callout:not([data-callout-metadata*=revert]) {
  --callout-blend-mode: normal;
}
.callout:not([data-callout-metadata*=revert]) > .callout-title > .callout-title-inner {
  flex-grow: 0;
}
.theme-light .callout:not([data-callout-metadata*=revert]) > .callout-title > .callout-title-inner {
  color: var(--text-normal);
}
.callout:not([data-callout-metadata*=revert]):not(.is-collapsible) > .callout-title .callout-title-inner {
  font-weight: 500;
}
.callout:not([data-callout-metadata*=revert]) .callout-title {
  --bold-color: currentColor;
  --italic-color: currentColor;
}

.callout:not([data-callout-metadata*=revert],
[data-callout=blank-container],
[data-callout=multi-column]) {
  --callout-padding: 0;
  --callout-border-width: 1px;
  --callout-border-opacity: 0.4;
  background-color: rgba(var(--ctp-mantle), 0.4);
}
.callout:not([data-callout-metadata*=revert],
[data-callout=blank-container],
[data-callout=multi-column]) > .callout-title {
  background-color: rgba(var(--callout-color), var(--callout-title-opacity, 0.1));
}
.callout:not([data-callout-metadata*=revert],
[data-callout=blank-container],
[data-callout=multi-column]) > .callout-content {
  border-top: var(--callout-border-width) dashed rgba(var(--callout-color), var(--callout-border-opacity));
}

.callout-content > p:first-child, .callout-content > ul:first-child, .callout-content > ol:first-child { margin-top: 0px; }
.callout-content > p:last-child, .callout-content > ul:last-child, .callout-content > ol:last-child { margin-bottom: 0px; }

/* Callout Colors */
.callout[data-callout=abstract], .callout[data-callout=summary], .callout[data-callout=tldr], .callout[data-callout=seealso] { --callout-color: var(--ctp-blue); }
.callout[data-callout=info], .callout[data-callout=todo], .callout[data-callout=tip], .callout[data-callout=hint], .callout[data-callout=important] { --callout-color: var(--ctp-teal); }
.callout[data-callout=success], .callout[data-callout=check], .callout[data-callout=done], .callout[data-callout=question], .callout[data-callout=help], .callout[data-callout=faq] { --callout-color: var(--ctp-green); }
.callout[data-callout=warning], .callout[data-callout=caution], .callout[data-callout=attention] { --callout-color: var(--ctp-yellow); }
.callout[data-callout=failure], .callout[data-callout=fail], .callout[data-callout=missing] { --callout-color: var(--ctp-maroon); }
.callout[data-callout=danger], .callout[data-callout=error], .callout[data-callout=bug] { --callout-color: var(--ctp-red); }
.callout[data-callout=example] { --callout-color: var(--ctp-mauve); }
.callout[data-callout=quote], .callout[data-callout=cite] { --callout-color: var(--ctp-surface2); }
.callout[data-callout=note] { --callout-color: var(--ctp-accent); }

/*-- Graph --*/
.workspace-split:not(.mod-root) .graph-controls.is-close,
.workspace-split:not(.mod-root) .graph-controls,
.workspace-split:not(.mod-root) .graph-controls:not(.is-close),
.workspace-leaf .graph-controls.is-close,
.workspace-leaf .graph-controls,
.workspace-leaf .graph-controls:not(.is-close) {
  background-color: rgb(var(--ctp-mantle));
}

/*-- Links --*/
.markdown-rendered .internal-link {
  text-decoration-line: none;
}
.markdown-rendered .internal-link:hover,
.markdown-rendered .internal-link:active,
.markdown-rendered .internal-link.is-unresolved:hover,
.markdown-rendered .internal-link.is-unresolved {
  text-decoration-line: none;
}
.external-link, .external-link:hover {
  background-image: none;
  padding-right: 0px;
}

/*-- Blockquote spacing --*/
.markdown-rendered blockquote {
  padding: 5px 5px 5px 10px;
}

/*-- Highlights --*/
.markdown-rendered .search-highlight > div {
  box-shadow: none;
  opacity: 0.3;
  background-color: rgba(var(--ctp-text), 0.4);
  mix-blend-mode: var(--highlight-mix-blend-mode);
  border-radius: 2px;
}
.markdown-rendered .search-highlight > div.is-active {
  box-shadow: 0 0 0px 2px rgba(var(--ctp-yellow), 0.5);
  background-color: rgba(var(--ctp-yellow), 0.2);
  opacity: 1;
}

/*-- Slider checkboxes --*/
.checkbox-container.is-enabled:after {
  background-color: var(--background-primary);
}

/*-- Notices --*/
.notice {
  color: rgb(var(--ctp-text));
}

/*-- Copy code button --*/
.markdown-rendered button.copy-code-button {
  background-color: rgb(var(--ctp-crust));
}

/*-- Suggestion selected --*/
.suggestion-item.is-selected {
  background-color: rgba(var(--ctp-text), 0.075);
}

/*-- Canvas --*/
.canvas-card-menu {
  box-shadow: none;
  border: 1px solid var(--background-modifier-border);
  background-color: var(--background-secondary);
}
.canvas-controls button {
  background-color: var(--background-secondary);
}

/*-- Gutter number highlight --*/
.cm-lineNumbers .cm-gutterElement.cm-active {
  color: var(--interactive-accent);
}

/*-- Nav file label align --*/
.nav-file-title-content { flex-grow: 1; }
.nav-folder-title-content { flex-grow: 1; }

/*-- Hide empty frontmatter --*/
.frontmatter-container:not(:has(.frontmatter-section)) {
  display: none;
}

/*-- Popover animation --*/
.popover.hover-popover.is-loaded {
  animation: fade 0.2s;
}

/*-- Settings modal: see-through toggle --*/
.sp-settings-transparent .modal-container .modal.mod-settings {
  opacity: 0.90 !important;
}

/*-- Settings modal headings --*/
.modal.mod-settings, .modal.mod-community-theme, .modal.mod-community-plugin {
  --h1-font: var(--font-interface);
  --h2-font: var(--font-interface);
  --h3-font: var(--font-interface);
  --h4-font: var(--font-interface);
  --h5-font: var(--font-interface);
  --h6-font: var(--font-interface);
  --h1-weight: 600;
  --h1-color: #BA7184;
  --h2-color: #DD7F67;
  --h3-color: rgb(var(--ctp-teal));
  --h4-color: rgb(var(--ctp-green));
  --h5-color: #9A85AE;
  --h6-color: #8D8D8D;
}

/*-- Translucent support --*/
body.is-translucent {
  background-color: transparent;
}
.is-translucent .workspace {
  background-color: transparent;
}

/*===============================================================
 * CUSTOM CHECKBOXES
 *===============================================================*/
[data-task=x] > input[type=checkbox]:checked,
[data-task=x] > p > input[type=checkbox]:checked, [data-task=x][type=checkbox]:checked {
  --checkbox-color: rgb(var(--ctp-green));
  --checkbox-color-hover: rgb(var(--ctp-green));
}
[data-task="!"] > input[type=checkbox]:checked,
[data-task="!"] > p > input[type=checkbox]:checked, [data-task="!"][type=checkbox]:checked {
  --checkbox-color: rgb(var(--ctp-yellow));
  --checkbox-color-hover: rgb(var(--ctp-yellow));
}
[data-task="!"] > input[type=checkbox]:checked:after,
[data-task="!"] > p > input[type=checkbox]:checked:after, [data-task="!"][type=checkbox]:checked:after {
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 128 512'%3E%3Cpath d='M96 64c0-17.7-14.3-32-32-32S32 46.3 32 64V320c0 17.7 14.3 32 32 32s32-14.3 32-32V64zM64 480c22.1 0 40-17.9 40-40s-17.9-40-40-40s-40 17.9-40 40s17.9 40 40 40z'/%3E%3C/svg%3E");
  -webkit-mask-size: 20%;
}
[data-task="?"] > input[type=checkbox]:checked,
[data-task="?"] > p > input[type=checkbox]:checked, [data-task="?"][type=checkbox]:checked {
  --checkbox-color: transparent;
  --checkbox-color-hover: transparent;
  border-width: 0;
}
[data-task="?"] > input[type=checkbox]:checked:after,
[data-task="?"] > p > input[type=checkbox]:checked:after, [data-task="?"][type=checkbox]:checked:after {
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath d='M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM169.8 165.3c7.9-22.3 29.1-37.3 52.8-37.3h58.3c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24V250.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1H222.6c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM288 352c0 17.7-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32z'/%3E%3C/svg%3E");
  -webkit-mask-size: contain;
  background-color: rgb(var(--ctp-peach));
  left: 0px;
}
[data-task="-"] {
  text-decoration: var(--checklist-done-decoration);
  color: var(--checklist-done-color);
}
[data-task="-"] > input[type=checkbox]:checked,
[data-task="-"] > p > input[type=checkbox]:checked, [data-task="-"][type=checkbox]:checked {
  --checkbox-color: rgb(var(--ctp-red));
  --checkbox-color-hover: rgb(var(--ctp-red));
}
[data-task="-"] > input[type=checkbox]:checked:after,
[data-task="-"] > p > input[type=checkbox]:checked:after, [data-task="-"][type=checkbox]:checked:after {
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 320 512'%3E%3Cpath d='M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z'/%3E%3C/svg%3E");
  -webkit-mask-size: 50%;
}
[data-task=b] > input[type=checkbox]:checked,
[data-task=b] > p > input[type=checkbox]:checked, [data-task=b][type=checkbox]:checked {
  --checkbox-color: transparent; --checkbox-color-hover: transparent; border-width: 0;
}
[data-task=b] > input[type=checkbox]:checked:after,
[data-task=b] > p > input[type=checkbox]:checked:after, [data-task=b][type=checkbox]:checked:after {
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 384 512'%3E%3Cpath d='M0 48V487.7C0 501.1 10.9 512 24.3 512c5 0 9.9-1.5 14-4.4L192 400 345.7 507.6c4.1 2.9 9 4.4 14 4.4c13.4 0 24.3-10.9 24.3-24.3V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48z'/%3E%3C/svg%3E");
  -webkit-mask-size: contain; background-color: rgb(var(--ctp-red)); left: 0px;
}
[data-task=I] > input[type=checkbox]:checked,
[data-task=I] > p > input[type=checkbox]:checked, [data-task=I][type=checkbox]:checked {
  --checkbox-color: transparent; --checkbox-color-hover: transparent; border-width: 0;
}
[data-task=I] > input[type=checkbox]:checked:after,
[data-task=I] > p > input[type=checkbox]:checked:after, [data-task=I][type=checkbox]:checked:after {
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 384 512'%3E%3Cpath d='M272 384c9.6-31.9 29.5-59.1 49.2-86.2l0 0c5.2-7.1 10.4-14.2 15.4-21.4c19.8-28.5 31.4-63 31.4-100.3C368 78.8 289.2 0 192 0S16 78.8 16 176c0 37.3 11.6 71.9 31.4 100.3c5 7.2 10.2 14.3 15.4 21.4l0 0c19.8 27.1 39.7 54.4 49.2 86.2H272zM192 512c44.2 0 80-35.8 80-80V416H112v16c0 44.2 35.8 80 80 80zM112 176c0 8.8-7.2 16-16 16s-16-7.2-16-16c0-61.9 50.1-112 112-112c8.8 0 16 7.2 16 16s-7.2 16-16 16c-44.2 0-80 35.8-80 80z'/%3E%3C/svg%3E");
  -webkit-mask-size: contain; background-color: rgb(var(--ctp-yellow)); left: 0px;
}
[data-task=p] > input[type=checkbox]:checked,
[data-task=p] > p > input[type=checkbox]:checked, [data-task=p][type=checkbox]:checked {
  --checkbox-color: transparent; --checkbox-color-hover: transparent; border-width: 0;
}
[data-task=p] > input[type=checkbox]:checked:after,
[data-task=p] > p > input[type=checkbox]:checked:after, [data-task=p][type=checkbox]:checked:after {
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath d='M313.4 32.9c26 5.2 42.9 30.5 37.7 56.5l-2.3 11.4c-5.3 26.7-15.1 52.1-28.8 75.2H464c26.5 0 48 21.5 48 48c0 25.3-19.5 46-44.3 47.9c7.7 8.5 12.3 19.8 12.3 32.1c0 23.4-16.8 42.9-38.9 47.1c4.4 7.2 6.9 15.8 6.9 24.9c0 21.3-13.9 39.4-33.1 45.6c.7 3.3 1.1 6.8 1.1 10.4c0 26.5-21.5 48-48 48H294.5c-19 0-37.5-5.6-53.3-16.1l-38.5-25.7C176 420.4 160 390.4 160 358.3V320 272 247.1c0-29.2 13.3-56.7 36-75l7.4-5.9c26.5-21.2 44.6-51 51.2-84.2l2.3-11.4c5.2-26 30.5-42.9 56.5-37.7zM32 192H96c17.7 0 32 14.3 32 32V448c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32V224c0-17.7 14.3-32 32-32z'/%3E%3C/svg%3E");
  -webkit-mask-size: contain; background-color: rgb(var(--ctp-green)); left: 0px;
}
[data-task=c] > input[type=checkbox]:checked,
[data-task=c] > p > input[type=checkbox]:checked, [data-task=c][type=checkbox]:checked {
  --checkbox-color: transparent; --checkbox-color-hover: transparent; border-width: 0;
}
[data-task=c] > input[type=checkbox]:checked:after,
[data-task=c] > p > input[type=checkbox]:checked:after, [data-task=c][type=checkbox]:checked:after {
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath d='M313.4 479.1c26-5.2 42.9-30.5 37.7-56.5l-2.3-11.4c-5.3-26.7-15.1-52.1-28.8-75.2H464c26.5 0 48-21.5 48-48c0-25.3-19.5-46-44.3-47.9c7.7-8.5 12.3-19.8 12.3-32.1c0-23.4-16.8-42.9-38.9-47.1c4.4-7.3 6.9-15.8 6.9-24.9c0-21.3-13.9-39.4-33.1-45.6c.7-3.3 1.1-6.8 1.1-10.4c0-26.5-21.5-48-48-48H294.5c-19 0-37.5 5.6-53.3 16.1L202.7 73.8C176 91.6 160 121.6 160 153.7V192v48 24.9c0 29.2 13.3 56.7 36 75l7.4 5.9c26.5 21.2 44.6 51 51.2 84.2l2.3 11.4c5.2 26 30.5 42.9 56.5 37.7zM32 320H96c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32H32C14.3 32 0 46.3 0 64V288c0 17.7 14.3 32 32 32z'/%3E%3C/svg%3E");
  -webkit-mask-size: 100%; background-color: rgb(var(--ctp-red)); left: 0px;
}
[data-task=i] > input[type=checkbox]:checked,
[data-task=i] > p > input[type=checkbox]:checked, [data-task=i][type=checkbox]:checked {
  --checkbox-color: transparent; --checkbox-color-hover: transparent; border-width: 0;
}
[data-task=i] > input[type=checkbox]:checked:after,
[data-task=i] > p > input[type=checkbox]:checked:after, [data-task=i][type=checkbox]:checked:after {
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath d='M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-144c-17.7 0-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32z'/%3E%3C/svg%3E");
  -webkit-mask-size: contain; background-color: rgb(var(--ctp-blue)); left: 0px;
}
[data-task=l] > input[type=checkbox]:checked,
[data-task=l] > p > input[type=checkbox]:checked, [data-task=l][type=checkbox]:checked {
  --checkbox-color: transparent; --checkbox-color-hover: transparent; border-width: 0;
}
[data-task=l] > input[type=checkbox]:checked:after,
[data-task=l] > p > input[type=checkbox]:checked:after, [data-task=l][type=checkbox]:checked:after {
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 384 512'%3E%3Cpath d='M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 256c-35.3 0-64-28.7-64-64s28.7-64 64-64s64 28.7 64 64s-28.7 64-64 64z'/%3E%3C/svg%3E");
  -webkit-mask-size: contain; background-color: rgb(var(--ctp-mauve)); left: 0px;
}
[data-task="*"] > input[type=checkbox]:checked,
[data-task="*"] > p > input[type=checkbox]:checked, [data-task="*"][type=checkbox]:checked {
  --checkbox-color: transparent; --checkbox-color-hover: transparent; border-width: 0;
}
[data-task="*"] > input[type=checkbox]:checked:after,
[data-task="*"] > p > input[type=checkbox]:checked:after, [data-task="*"][type=checkbox]:checked:after {
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 576 512'%3E%3Cpath d='M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z'/%3E%3C/svg%3E");
  -webkit-mask-size: contain; background-color: rgb(var(--ctp-yellow)); left: 0px;
}
[data-task=n] > input[type=checkbox]:checked,
[data-task=n] > p > input[type=checkbox]:checked, [data-task=n][type=checkbox]:checked {
  --checkbox-color: transparent; --checkbox-color-hover: transparent; border-width: 0;
}
[data-task=n] > input[type=checkbox]:checked:after,
[data-task=n] > p > input[type=checkbox]:checked:after, [data-task=n][type=checkbox]:checked:after {
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 384 512'%3E%3Cpath d='M32 32C32 14.3 46.3 0 64 0H320c17.7 0 32 14.3 32 32s-14.3 32-32 32H290.5l11.4 148.2c36.7 19.9 65.7 53.2 79.5 94.7l1 3c3.3 9.8 1.6 20.5-4.4 28.8s-15.7 13.3-26 13.3H32c-10.3 0-19.9-4.9-26-13.3s-7.7-19.1-4.4-28.8l1-3c13.8-41.5 42.8-74.8 79.5-94.7L93.5 64H64C46.3 64 32 49.7 32 32zM160 384h64v96c0 17.7-14.3 32-32 32s-32-14.3-32-32V384z'/%3E%3C/svg%3E");
  -webkit-mask-size: contain; background-color: rgb(var(--ctp-maroon)); left: 0px;
}
[data-task=S] > input[type=checkbox]:checked,
[data-task=S] > p > input[type=checkbox]:checked, [data-task=S][type=checkbox]:checked {
  --checkbox-color: transparent; --checkbox-color-hover: transparent; border-width: 0;
}
[data-task=S] > input[type=checkbox]:checked:after,
[data-task=S] > p > input[type=checkbox]:checked:after, [data-task=S][type=checkbox]:checked:after {
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath d='M320 96H192L144.6 24.9C137.5 14.2 145.1 0 157.9 0H354.1c12.8 0 20.4 14.2 13.3 24.9L320 96zM192 128H320c3.8 2.5 8.1 5.3 13 8.4C389.7 172.7 512 250.9 512 416c0 53-43 96-96 96H96c-53 0-96-43-96-96C0 250.9 122.3 172.7 179 136.4l0 0 0 0c4.8-3.1 9.2-5.9 13-8.4zm84.1 96c0-11.1-9-20.1-20.1-20.1s-20.1 9-20.1 20.1v6c-5.6 1.2-10.9 2.9-15.9 5.1c-15 6.8-27.9 19.4-31.1 37.7c-1.8 10.2-.8 20 3.4 29c4.2 8.8 10.7 15 17.3 19.5c11.6 7.9 26.9 12.5 38.6 16l2.2.7c13.9 4.2 23.4 7.4 29.3 11.7c2.5 1.8 3.4 3.2 3.8 4.1c.3.8.9 2.6.2 6.7c-.6 3.5-2.5 6.4-8 8.8c-6.1 2.6-16 3.9-28.8 1.9c-6-1-16.7-4.6-26.2-7.9l0 0c-2.2-.8-4.3-1.5-6.3-2.1c-10.5-3.5-21.8 2.2-25.3 12.7s2.2 21.8 12.7 25.3c1.2.4 2.7.9 4.4 1.5c7.9 2.7 20.3 6.9 29.8 9.1V416c0 11.1 9 20.1 20.1 20.1s20.1-9 20.1-20.1v-5.5c5.4-1 10.5-2.5 15.4-4.6c15.7-6.7 28.4-19.7 31.6-38.7c1.8-10.4 1-20.3-3-29.4c-3.9-9-10.2-15.6-16.9-20.5c-12.2-8.8-28.3-13.7-40.4-17.4l-.8-.2c-14.2-4.3-23.8-7.3-29.9-11.4c-2.6-1.8-3.4-3-3.6-3.5c-.2-.3-.7-1.6-.1-5c.3-1.9 1.9-5.2 8.2-8.1c6.4-2.9 16.4-4.5 28.6-2.6c4.3.7 17.9 3.3 21.7 4.3c10.7 2.8 21.6-3.5 24.5-14.2s-3.5-21.6-14.2-24.5c-4.4-1.2-14.4-3.2-21-4.4V224z'/%3E%3C/svg%3E");
  -webkit-mask-size: contain; background-color: rgb(var(--ctp-green)); left: 0px;
}
[data-task="/"] > input[type=checkbox]:checked,
[data-task="/"] > p > input[type=checkbox]:checked, [data-task="/"][type=checkbox]:checked {
  --checkbox-color: rgba(var(--ctp-subtext0), 0.3);
  --checkbox-color-hover: rgba(var(--ctp-subtext0), 0.3);
  border-color: rgb(var(--ctp-subtext0)) !important;
}
[data-task="/"] > input[type=checkbox]:checked:after,
[data-task="/"] > p > input[type=checkbox]:checked:after, [data-task="/"][type=checkbox]:checked:after {
  background-color: transparent;
}
[data-task="<"] > input[type=checkbox]:checked,
[data-task="<"] > p > input[type=checkbox]:checked, [data-task="<"][type=checkbox]:checked {
  --checkbox-color: transparent; --checkbox-color-hover: transparent; border-width: 0;
}
[data-task="<"] > input[type=checkbox]:checked:after,
[data-task="<"] > p > input[type=checkbox]:checked:after, [data-task="<"][type=checkbox]:checked:after {
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 448 512'%3E%3Cpath d='M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z'/%3E%3C/svg%3E");
  -webkit-mask-size: contain; background-color: rgb(var(--ctp-teal)); left: 0px;
}
[data-task=">"] > input[type=checkbox]:checked,
[data-task=">"] > p > input[type=checkbox]:checked, [data-task=">"][type=checkbox]:checked {
  --checkbox-color: transparent; --checkbox-color-hover: transparent; border-width: 0;
}
[data-task=">"] > input[type=checkbox]:checked:after,
[data-task=">"] > p > input[type=checkbox]:checked:after, [data-task=">"][type=checkbox]:checked:after {
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath d='M307 34.8c-11.5 5.1-19 16.6-19 29.2v64H176C78.8 128 0 206.8 0 304C0 417.3 81.5 467.9 100.2 478.1c2.5 1.4 5.3 1.9 8.1 1.9c10.9 0 19.7-8.9 19.7-19.7c0-7.5-4.3-14.4-9.8-19.5C108.8 431.9 96 414.4 96 384c0-53 43-96 96-96h96v64c0 12.6 7.4 24.1 19 29.2s25 3 34.4-5.4l160-144c6.7-6.1 10.6-14.7 10.6-23.8s-3.8-17.7-10.6-23.8l-160-144c-9.4-8.5-22.9-10.6-34.4-5.4z'/%3E%3C/svg%3E");
  -webkit-mask-size: contain; background-color: rgb(var(--ctp-sapphire)); left: 0px;
}
[data-task='"'] > input[type=checkbox]:checked,
[data-task='"'] > p > input[type=checkbox]:checked, [data-task='"'][type=checkbox]:checked {
  --checkbox-color: transparent; --checkbox-color-hover: transparent; border-width: 0;
}
[data-task='"'] > input[type=checkbox]:checked:after,
[data-task='"'] > p > input[type=checkbox]:checked:after, [data-task='"'][type=checkbox]:checked:after {
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 448 512'%3E%3Cpath d='M0 216C0 149.7 53.7 96 120 96h8c17.7 0 32 14.3 32 32s-14.3 32-32 32h-8c-30.9 0-56 25.1-56 56v8h64c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V320 288 216zm256 0c0-66.3 53.7-120 120-120h8c17.7 0 32 14.3 32 32s-14.3 32-32 32h-8c-30.9 0-56 25.1-56 56v8h64c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64H320c-35.3 0-64-28.7-64-64V320 288 216z'/%3E%3C/svg%3E");
  -webkit-mask-size: contain; background-color: rgb(var(--ctp-subtext0)); left: 0px;
}
[data-task=u] > input[type=checkbox]:checked,
[data-task=u] > p > input[type=checkbox]:checked, [data-task=u][type=checkbox]:checked {
  --checkbox-color: transparent; --checkbox-color-hover: transparent; border-width: 0;
}
[data-task=u] > input[type=checkbox]:checked:after,
[data-task=u] > p > input[type=checkbox]:checked:after, [data-task=u][type=checkbox]:checked:after {
  -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXRyZW5kaW5nLXVwIj48cG9seWxpbmUgcG9pbnRzPSIyMiA3IDEzLjUgMTUuNSA4LjUgMTAuNSAyIDE3Ii8+PHBvbHlsaW5lIHBvaW50cz0iMTYgNyAyMiA3IDIyIDEzIi8+PC9zdmc+");
  -webkit-mask-size: contain; background-color: rgb(var(--ctp-green)); left: 0px;
}
[data-task=d] > input[type=checkbox]:checked,
[data-task=d] > p > input[type=checkbox]:checked, [data-task=d][type=checkbox]:checked {
  --checkbox-color: transparent; --checkbox-color-hover: transparent; border-width: 0;
}
[data-task=d] > input[type=checkbox]:checked:after,
[data-task=d] > p > input[type=checkbox]:checked:after, [data-task=d][type=checkbox]:checked:after {
  -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXRyZW5kaW5nLWRvd24iPjxwb2x5bGluZSBwb2ludHM9IjIyIDE3IDEzLjUgOC41IDguNSAxMy41IDIgNyIvPjxwb2x5bGluZSBwb2ludHM9IjE2IDE3IDIyIDE3IDIyIDExIi8+PC9zdmc+");
  -webkit-mask-size: contain; background-color: rgb(var(--ctp-red)); left: 0px;
}
[data-task=f] > input[type=checkbox]:checked,
[data-task=f] > p > input[type=checkbox]:checked, [data-task=f][type=checkbox]:checked {
  --checkbox-color: transparent; --checkbox-color-hover: transparent; border-width: 0;
}
[data-task=f] > input[type=checkbox]:checked:after,
[data-task=f] > p > input[type=checkbox]:checked:after, [data-task=f][type=checkbox]:checked:after {
  -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWZsYW1lIj48cGF0aCBkPSJNOC41IDE0LjVBMi41IDIuNSAwIDAgMCAxMSAxMmMwLTEuMzgtLjUtMi0xLTMtMS4wNzItMi4xNDMtLjIyNC00LjA1NCAyLTYgLjUgMi41IDIgNC45IDQgNi41IDIgMS42IDMgMy41IDMgNS41YTcgNyAwIDEgMS0xNCAwYzAtMS4xNTMuNDMzLTIuMjk0IDEtM2EyLjUgMi41IDAgMCAwIDIuNSAyLjV6Ii8+PC9zdmc+");
  -webkit-mask-size: contain; background-color: rgb(var(--ctp-red)); left: 0px;
}
[data-task=k] > input[type=checkbox]:checked,
[data-task=k] > p > input[type=checkbox]:checked, [data-task=k][type=checkbox]:checked {
  --checkbox-color: transparent; --checkbox-color-hover: transparent; border-width: 0;
}
[data-task=k] > input[type=checkbox]:checked:after,
[data-task=k] > p > input[type=checkbox]:checked:after, [data-task=k][type=checkbox]:checked:after {
  -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWtleS1yb3VuZCI+PHBhdGggZD0iTTIgMTh2M2MwIC42LjQgMSAxIDFoNHYtM2gzdi0zaDJsMS40LTEuNGE2LjUgNi41IDAgMSAwLTQtNFoiLz48Y2lyY2xlIGN4PSIxNi41IiBjeT0iNy41IiByPSIuNSIvPjwvc3ZnPg==");
  -webkit-mask-size: contain; background-color: rgb(var(--ctp-yellow)); left: 0px;
}
[data-task=w] > input[type=checkbox]:checked,
[data-task=w] > p > input[type=checkbox]:checked, [data-task=w][type=checkbox]:checked {
  --checkbox-color: transparent; --checkbox-color-hover: transparent; border-width: 0;
}
[data-task=w] > input[type=checkbox]:checked:after,
[data-task=w] > p > input[type=checkbox]:checked:after, [data-task=w][type=checkbox]:checked:after {
  -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNha2UiPjxwYXRoIGQ9Ik0yMCAyMXYtOGEyIDIgMCAwIDAtMi0ySDZhMiAyIDAgMCAwLTIgMnY4Ii8+PHBhdGggZD0iTTQgMTZzLjUtMSAyLTEgMi41IDIgNCAyIDIuNS0yIDQtMiAyLjUgMiA0IDIgMi0xIDItMSIvPjxwYXRoIGQ9Ik0yIDIxaDIwIi8+PHBhdGggZD0iTTcgOHYzIi8+PHBhdGggZD0iTTEyIDh2MyIvPjxwYXRoIGQ9Ik0xNyA4djMiLz48cGF0aCBkPSJNNyA0aDAuMDEiLz48cGF0aCBkPSJNMTIgNGgwLjAxIi8+PHBhdGggZD0iTTE3IDRoMC4wMSIvPjwvc3ZnPg==");
  -webkit-mask-size: contain; background-color: rgb(var(--ctp-mauve)); left: 0px;
}

/*===============================================================
 * SPEECH BUBBLES
 *===============================================================*/
[data-task="0"],
[data-task="1"],
[data-task="2"],
[data-task="3"],
[data-task="4"],
[data-task="5"],
[data-task="6"],
[data-task="7"],
[data-task="8"],
[data-task="9"] {
  margin-inline-start: -15px;
  padding: 3px 10px;
  border-radius: 3px 10px 10px 10px;
  max-width: fit-content;
  color: var(--text-normal);
  --bold-color: var(--text-normal);
  --italic-color: var(--text-normal);
}
[data-task="0"] p, [data-task="1"] p, [data-task="2"] p, [data-task="3"] p,
[data-task="4"] p, [data-task="5"] p, [data-task="6"] p, [data-task="7"] p,
[data-task="8"] p, [data-task="9"] p { margin-top: 0; margin-bottom: 0; }
[data-task="0"] .task-list-item-checkbox, [data-task="1"] .task-list-item-checkbox,
[data-task="2"] .task-list-item-checkbox, [data-task="3"] .task-list-item-checkbox,
[data-task="4"] .task-list-item-checkbox, [data-task="5"] .task-list-item-checkbox,
[data-task="6"] .task-list-item-checkbox, [data-task="7"] .task-list-item-checkbox,
[data-task="8"] .task-list-item-checkbox, [data-task="9"] .task-list-item-checkbox { display: none; }

.theme-dark [data-task="0"], .theme-dark [data-task="1"], .theme-dark [data-task="2"],
.theme-dark [data-task="3"], .theme-dark [data-task="4"], .theme-dark [data-task="5"],
.theme-dark [data-task="6"], .theme-dark [data-task="7"], .theme-dark [data-task="8"],
.theme-dark [data-task="9"] {
  --text-normal: var(--background-primary);
  transition: background-color 0.2s, background 0.2s, border-radius 0.2s;
}

.is-live-preview [data-task="0"].cm-active, .is-live-preview [data-task="1"].cm-active,
.is-live-preview [data-task="2"].cm-active, .is-live-preview [data-task="3"].cm-active,
.is-live-preview [data-task="4"].cm-active, .is-live-preview [data-task="5"].cm-active,
.is-live-preview [data-task="6"].cm-active, .is-live-preview [data-task="7"].cm-active,
.is-live-preview [data-task="8"].cm-active, .is-live-preview [data-task="9"].cm-active {
  border-radius: 0;
  --text-normal: rgb(var(--ctp-text));
  background: rgba(var(--ctp-surface1), 0.4);
}
.is-live-preview [data-task="0"]:not(.cm-active), .is-live-preview [data-task="1"]:not(.cm-active),
.is-live-preview [data-task="2"]:not(.cm-active), .is-live-preview [data-task="3"]:not(.cm-active),
.is-live-preview [data-task="4"]:not(.cm-active), .is-live-preview [data-task="5"]:not(.cm-active),
.is-live-preview [data-task="6"]:not(.cm-active), .is-live-preview [data-task="7"]:not(.cm-active),
.is-live-preview [data-task="8"]:not(.cm-active), .is-live-preview [data-task="9"]:not(.cm-active) {
  max-width: max-content;
}

[data-task="0"] { background-color: rgba(var(--ctp-red), var(--anp-speech-bubble-opacity)); }
[data-task="1"] { background-color: rgba(var(--ctp-peach), var(--anp-speech-bubble-opacity)); }
[data-task="2"] { background-color: rgba(var(--ctp-yellow), var(--anp-speech-bubble-opacity)); }
[data-task="3"] { background-color: rgba(var(--ctp-green), var(--anp-speech-bubble-opacity)); }
[data-task="4"] { background-color: rgba(var(--ctp-teal), var(--anp-speech-bubble-opacity)); }
[data-task="5"] { background-color: rgba(var(--ctp-sky), var(--anp-speech-bubble-opacity)); }
[data-task="6"] { background-color: rgba(var(--ctp-blue), var(--anp-speech-bubble-opacity)); }
[data-task="7"] { background-color: rgba(var(--ctp-mauve), var(--anp-speech-bubble-opacity)); }
[data-task="8"] { background: linear-gradient(to right, rgba(var(--ctp-red), var(--anp-speech-bubble-opacity)), rgba(var(--ctp-yellow), var(--anp-speech-bubble-opacity))); }
[data-task="9"] { background: linear-gradient(to left, rgba(var(--ctp-lavender), var(--anp-speech-bubble-opacity)), rgba(var(--ctp-mauve), var(--anp-speech-bubble-opacity))); }

/*===============================================================
 * FILE ICONS
 *===============================================================*/
.nav-file .nav-file-title[data-path] { align-items: center; }
.nav-file .nav-file-title[data-path]::before {
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z'/%3E%3Cpath d='M14 2v6h6'/%3E%3C/svg%3E%0A");
  -webkit-mask-repeat: no-repeat; background-color: var(--icon-color); content: ""; display: flex;
  flex-shrink: 0; height: var(--size-4-4); margin-left: calc(-1 * var(--size-4-5));
  opacity: var(--icon-opacity); position: absolute; width: var(--size-4-4);
}
.nav-file .nav-file-title[data-path$=".md"]::before {
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z'/%3E%3Cpath d='M14 2v6h6m-4 5H8m8 4H8m2-8H8'/%3E%3C/svg%3E%0A");
}
.nav-file .nav-file-title[data-path$=".canvas"]::before {
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M3 3h7v9H3zm11 0h7v5h-7zm0 9h7v9h-7zM3 16h7v5H3z'/%3E%3C/svg%3E");
}
.nav-file .nav-file-title[data-path$=".svg"]::before,
.nav-file .nav-file-title[data-path$=".jpg"]::before,
.nav-file .nav-file-title[data-path$=".jpeg"]::before,
.nav-file .nav-file-title[data-path$=".png"]::before,
.nav-file .nav-file-title[data-path$=".gif"]::before,
.nav-file .nav-file-title[data-path$=".webp"]::before,
.nav-file .nav-file-title[data-path$=".bmp"]::before {
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z'/%3E%3Cpath d='M14 2v6h6'/%3E%3Ccircle cx='10' cy='13' r='2'/%3E%3Cpath d='m20 17-1.09-1.09a2 2 0 0 0-2.82 0L10 22'/%3E%3C/svg%3E%0A");
}
.nav-file .nav-file-title[data-path$=".mp3"]::before,
.nav-file .nav-file-title[data-path$=".wav"]::before,
.nav-file .nav-file-title[data-path$=".m4a"]::before,
.nav-file .nav-file-title[data-path$=".ogg"]::before,
.nav-file .nav-file-title[data-path$=".flac"]::before {
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M9 18V5l12-2v13M9 9l12-2'/%3E%3Ccircle cx='6' cy='18' r='3'/%3E%3Ccircle cx='18' cy='16' r='3'/%3E%3C/svg%3E");
}
.nav-file .nav-file-title[data-path$=".mp4"]::before,
.nav-file .nav-file-title[data-path$=".mov"]::before,
.nav-file .nav-file-title[data-path$=".mkv"]::before {
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M4 11v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8H4Z'/%3E%3Cpath d='m4 11-.88-2.87a2 2 0 0 1 1.33-2.5l11.48-3.5a2 2 0 0 1 2.5 1.32l.87 2.87L4 11.01Z'/%3E%3Cpath d='M6.6 4.99l3.38 4.2m1.88-5.81l3.38 4.2'/%3E%3C/svg%3E");
}

/*===============================================================
 * RAINBOW FOLDERS — Supporting styles
 * (Color sequence defined above in "Rainbow folder color sequence fix")
 *===============================================================*/

/* Subfolders inherit parent color */
.nav-files-container .nav-folder.nav-folder .nav-folder,
[data-type=bookmarks] .tree-item .tree-item {
  --rainbow-folder-color: inherit;
}

/* Full rainbow style */
.nav-files-container > div > .nav-folder .nav-folder-title,
.nav-files-container > div > .nav-folder .nav-file-title,
.nav-files-container .collapse-icon svg.svg-icon,
.tree-item-self .tree-item-icon {
  color: var(--background-primary);
  --icon-color: var(--background-primary);
}
.nav-files-container > div > .nav-folder-children > .nav-file .nav-file-title {
  color: var(--background-primary);
}
.nav-files-container > div > .nav-folder .nav-folder-children {
  border-color: rgba(var(--ctp-crust), 0.4);
}
.nav-files-container .nav-folder > .nav-folder-children {
  padding: 0 5px 0 5px;
}
.nav-files-container > div > .nav-folder {
  transition: background-color 0.4s;
  background-color: rgba(var(--rainbow-folder-color), var(--anp-rainbow-folder-bg-opacity));
  margin-bottom: 2px;
  border-radius: 5px;
}
body:not(.is-grabbing) .nav-files-container > div > .nav-folder .nav-folder-title:hover,
body:not(.is-grabbing) .nav-files-container > div .nav-file .nav-file-title:hover {
  background-color: rgba(var(--ctp-base), 0.1);
}
body:not(.is-grabbing) .nav-files-container > div > .nav-folder .nav-file-title.is-active {
  border-color: rgba(var(--ctp-base), 0.2);
  background-color: rgba(var(--ctp-base), 0.2);
}
.nav-file { overflow-y: hidden; }
.nav-file-title-content.is-being-renamed,
.nav-folder-title-content.is-being-renamed {
  cursor: text;
  border-color: var(--interactive-accent);
  background-color: rgba(var(--ctp-crust), 0.2);
}

/* Rainbow indentation lines */
.nav-files-container .nav-folder > .nav-folder-children {
  border-color: rgba(var(--rainbow-folder-color), 0.5);
}

/*===============================================================
 * PHASE 5: COMPACT SPACING
 *===============================================================*/

/* FILE EXPLORER — Compact Spacing (Style Settings toggle) */
.sp-compact-explorer .nav-files-container .tree-item-self {
  min-height: 22px;
  line-height: 22px;
  padding-top: 0;
  padding-bottom: 0;
  display: flex;
  align-items: center;
}
.sp-compact-explorer .nav-folder-children {
  padding-top: 0;
  padding-bottom: 0;
  margin-top: 0;
  margin-bottom: 0;
}

/* BASES PLUGIN — Compact Tables (Style Settings toggle) */
body.sp-compact-bases .bases-view { --bases-table-row-height: 20px !important; --bases-table-font-size: 13px !important; }
body.sp-compact-bases .bases-table-row, body.sp-compact-bases .bases-table-header-row { min-height: 20px !important; height: 20px !important; max-height: 20px !important; }
body.sp-compact-bases .bases-table-cell, body.sp-compact-bases .bases-table-header-cell { padding: 0px 6px !important; line-height: 1.2 !important; }
body.sp-compact-bases .bases-table-cell-content { padding: 0 !important; margin: 0 !important; line-height: 1.2 !important; min-height: unset !important; height: auto !important; }
body.sp-compact-bases .bases-table-cell-content * { margin-top: 0 !important; margin-bottom: 0 !important; padding-top: 0 !important; padding-bottom: 0 !important; }
body.sp-compact-bases .bases-table-row td, body.sp-compact-bases .bases-table-row th { padding-top: 0 !important; padding-bottom: 0 !important; }
body.sp-compact-bases .bases-table-row[style], body.sp-compact-bases .bases-table-cell[style] { height: 20px !important; min-height: 20px !important; }
